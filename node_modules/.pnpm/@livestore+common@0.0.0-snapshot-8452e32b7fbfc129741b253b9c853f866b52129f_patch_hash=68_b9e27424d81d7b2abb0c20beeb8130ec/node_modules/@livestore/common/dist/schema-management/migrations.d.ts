import { Effect } from '@livestore/utils/effect';
import type { SqliteDb } from '../adapter-types.ts';
import type { MigrationsReport } from '../defs.ts';
import type { UnexpectedError } from '../errors.ts';
import type { LiveStoreSchema } from '../schema/mod.ts';
import { SqliteAst } from '../schema/state/sqlite/db-schema/mod.ts';
import type { SchemaManager } from './common.ts';
export declare const makeSchemaManager: (db: SqliteDb) => Effect.Effect<SchemaManager>;
export declare const migrateDb: ({ db, schema, onProgress, }: {
    db: SqliteDb;
    schema: LiveStoreSchema;
    onProgress?: (opts: {
        done: number;
        total: number;
    }) => Effect.Effect<void>;
}) => Effect.Effect<MigrationsReport, UnexpectedError>;
export declare const migrateTable: ({ db, tableAst, schemaHash, behaviour, skipMetaTable, }: {
    db: SqliteDb;
    tableAst: SqliteAst.Table;
    schemaHash?: number;
    behaviour: "drop-and-recreate" | "create-if-not-exists";
    skipMetaTable?: boolean;
}) => Effect.Effect<void, never, never>;
//# sourceMappingURL=migrations.d.ts.map