import { UnexpectedError } from '@livestore/common';
import { Schema } from '@livestore/utils/effect';
/**
 * Common sync message types shared between different transport modes (WS, HTTP, RPC)
 *
 * These are the canonical message definitions used across all transport implementations.
 */
export declare const SyncMetadata: Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.SyncMetadata">;
} & {
    /** ISO date format */
    createdAt: typeof Schema.String;
}>;
export type SyncMetadata = typeof SyncMetadata.Type;
export declare const PullRequest: Schema.Struct<{
    /** Omitting the cursor will start from the beginning */
    cursor: Schema.optional<Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>>;
}>;
export type PullRequest = typeof PullRequest.Type;
export declare const PullResponse: Schema.Struct<{
    batch: Schema.Array$<Schema.Struct<{
        eventEncoded: Schema.Struct<{
            name: typeof Schema.String;
            args: typeof Schema.Any;
            seqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
            parentSeqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
            clientId: typeof Schema.String;
            sessionId: typeof Schema.String;
        }>;
        metadata: Schema.Option<Schema.Struct<{
            _tag: Schema.tag<"SyncMessage.SyncMetadata">;
        } & {
            /** ISO date format */
            createdAt: typeof Schema.String;
        }>>;
    }>>;
    pageInfo: Schema.Union<[Schema.TaggedStruct<"MoreUnknown", {}>, Schema.TaggedStruct<"MoreKnown", {
        remaining: typeof Schema.Number;
    }>, Schema.TaggedStruct<"NoMore", {}>]>;
}>;
export type PullResponse = typeof PullResponse.Type;
export declare const PushRequest: Schema.Struct<{
    batch: Schema.Array$<Schema.Struct<{
        name: typeof Schema.String;
        args: typeof Schema.Any;
        seqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
        parentSeqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
        clientId: typeof Schema.String;
        sessionId: typeof Schema.String;
    }>>;
}>;
export type PushRequest = typeof PushRequest.Type;
export declare const PushAck: Schema.Struct<{}>;
export type PushAck = typeof PushAck.Type;
export declare const InvalidParentEventNumber: Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.SyncError.InvalidParentEventNumber">;
} & {
    expected: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
    received: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
}>;
export type InvalidParentEventNumber = typeof InvalidParentEventNumber.Type;
declare const SyncError_base: Schema.TaggedErrorClass<SyncError, "SyncMessage.SyncError", {
    readonly _tag: Schema.tag<"SyncMessage.SyncError">;
} & {
    cause: Schema.Union<[typeof UnexpectedError, Schema.Struct<{
        _tag: Schema.tag<"SyncMessage.SyncError.InvalidParentEventNumber">;
    } & {
        expected: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
        received: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
    }>]>;
    storeId: Schema.optional<typeof Schema.String>;
}>;
export declare class SyncError extends SyncError_base {
}
export declare const Ping: Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.Ping">;
}>;
export type Ping = typeof Ping.Type;
export declare const Pong: Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.Pong">;
}>;
export type Pong = typeof Pong.Type;
export declare const AdminResetRoomRequest: Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminResetRoomRequest">;
} & {
    adminSecret: typeof Schema.String;
}>;
export type AdminResetRoomRequest = typeof AdminResetRoomRequest.Type;
export declare const AdminResetRoomResponse: Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminResetRoomResponse">;
}>;
export type AdminResetRoomResponse = typeof AdminResetRoomResponse.Type;
export declare const AdminInfoRequest: Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminInfoRequest">;
} & {
    adminSecret: typeof Schema.String;
}>;
export type AdminInfoRequest = typeof AdminInfoRequest.Type;
export declare const AdminInfoResponse: Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminInfoResponse">;
} & {
    info: Schema.Struct<{
        durableObjectId: typeof Schema.String;
    }>;
}>;
export type AdminInfoResponse = typeof AdminInfoResponse.Type;
export declare const BackendToClientMessage: Schema.Union<[Schema.Struct<{
    batch: Schema.Array$<Schema.Struct<{
        eventEncoded: Schema.Struct<{
            name: typeof Schema.String;
            args: typeof Schema.Any;
            seqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
            parentSeqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
            clientId: typeof Schema.String;
            sessionId: typeof Schema.String;
        }>;
        metadata: Schema.Option<Schema.Struct<{
            _tag: Schema.tag<"SyncMessage.SyncMetadata">;
        } & {
            /** ISO date format */
            createdAt: typeof Schema.String;
        }>>;
    }>>;
    pageInfo: Schema.Union<[Schema.TaggedStruct<"MoreUnknown", {}>, Schema.TaggedStruct<"MoreKnown", {
        remaining: typeof Schema.Number;
    }>, Schema.TaggedStruct<"NoMore", {}>]>;
}>, Schema.Struct<{}>, typeof SyncError, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.Pong">;
}>, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminResetRoomResponse">;
}>, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminInfoResponse">;
} & {
    info: Schema.Struct<{
        durableObjectId: typeof Schema.String;
    }>;
}>]>;
export type BackendToClientMessage = typeof BackendToClientMessage.Type;
export declare const ClientToBackendMessage: Schema.Union<[Schema.Struct<{
    /** Omitting the cursor will start from the beginning */
    cursor: Schema.optional<Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>>;
}>, Schema.Struct<{
    batch: Schema.Array$<Schema.Struct<{
        name: typeof Schema.String;
        args: typeof Schema.Any;
        seqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
        parentSeqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
        clientId: typeof Schema.String;
        sessionId: typeof Schema.String;
    }>>;
}>, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.Ping">;
}>, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminResetRoomRequest">;
} & {
    adminSecret: typeof Schema.String;
}>, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminInfoRequest">;
} & {
    adminSecret: typeof Schema.String;
}>]>;
export type ClientToBackendMessage = typeof ClientToBackendMessage.Type;
export declare const Message: Schema.Union<[Schema.Union<[Schema.Struct<{
    batch: Schema.Array$<Schema.Struct<{
        eventEncoded: Schema.Struct<{
            name: typeof Schema.String;
            args: typeof Schema.Any;
            seqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
            parentSeqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
            clientId: typeof Schema.String;
            sessionId: typeof Schema.String;
        }>;
        metadata: Schema.Option<Schema.Struct<{
            _tag: Schema.tag<"SyncMessage.SyncMetadata">;
        } & {
            /** ISO date format */
            createdAt: typeof Schema.String;
        }>>;
    }>>;
    pageInfo: Schema.Union<[Schema.TaggedStruct<"MoreUnknown", {}>, Schema.TaggedStruct<"MoreKnown", {
        remaining: typeof Schema.Number;
    }>, Schema.TaggedStruct<"NoMore", {}>]>;
}>, Schema.Struct<{}>, typeof SyncError, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.Pong">;
}>, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminResetRoomResponse">;
}>, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminInfoResponse">;
} & {
    info: Schema.Struct<{
        durableObjectId: typeof Schema.String;
    }>;
}>]>, Schema.Union<[Schema.Struct<{
    /** Omitting the cursor will start from the beginning */
    cursor: Schema.optional<Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>>;
}>, Schema.Struct<{
    batch: Schema.Array$<Schema.Struct<{
        name: typeof Schema.String;
        args: typeof Schema.Any;
        seqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
        parentSeqNum: Schema.BrandSchema<number & import("effect/Brand").Brand<"GlobalEventSequenceNumber">, number, never>;
        clientId: typeof Schema.String;
        sessionId: typeof Schema.String;
    }>>;
}>, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.Ping">;
}>, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminResetRoomRequest">;
} & {
    adminSecret: typeof Schema.String;
}>, Schema.Struct<{
    _tag: Schema.tag<"SyncMessage.AdminInfoRequest">;
} & {
    adminSecret: typeof Schema.String;
}>]>]>;
export type Message = typeof Message.Type;
export {};
//# sourceMappingURL=sync-message-types.d.ts.map