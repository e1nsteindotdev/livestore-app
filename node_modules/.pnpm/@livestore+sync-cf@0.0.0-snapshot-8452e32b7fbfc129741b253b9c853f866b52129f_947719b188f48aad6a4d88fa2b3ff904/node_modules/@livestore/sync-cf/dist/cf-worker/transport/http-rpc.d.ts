import type { EventSequenceNumber } from '@livestore/common/schema';
import type { CfTypes } from '@livestore/common-cf';
import { Effect } from '@livestore/utils/effect';
import type { MakeDurableObjectClassOptions, RpcSubscription, StoreId } from '../shared.ts';
import type { SyncStorage } from '../sync-storage.ts';
export interface HttpTransportHandlerOptions {
    ctx: CfTypes.DurableObjectState;
    makeStorage: (storeId: StoreId) => SyncStorage;
    doOptions: MakeDurableObjectClassOptions | undefined;
    pushSemaphore: Effect.Semaphore;
    rpcSubscriptions: Map<StoreId, RpcSubscription>;
    currentHeadRef: {
        current: EventSequenceNumber.GlobalEventSequenceNumber | 'uninitialized';
    };
    request: CfTypes.Request;
}
/**
 * Creates an HTTP RPC web handler for the sync provider
 */
export declare const createHttpRpcHandler: (options: HttpTransportHandlerOptions) => Effect.Effect<CfTypes.Response, import("effect/Cause").TimeoutException, import("effect/Scope").Scope>;
//# sourceMappingURL=http-rpc.d.ts.map