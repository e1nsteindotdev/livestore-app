import { UnexpectedError } from '@livestore/common';
import type { EventSequenceNumber } from '@livestore/common/schema';
import type { CfTypes } from '@livestore/common-cf';
import { Effect } from '@livestore/utils/effect';
import { SyncMessage } from '../../common/mod.ts';
import { type Env, type MakeDurableObjectClassOptions, type RpcSubscription, type StoreId } from '../shared.ts';
export declare const handleWebSocketMessage: ({ message, rpcSubscriptions, pushSemaphore, currentHeadRef, options, ctx, ws, env, }: {
    message: SyncMessage.ClientToBackendMessage;
    rpcSubscriptions: Map<StoreId, RpcSubscription>;
    pushSemaphore: Effect.Semaphore;
    currentHeadRef: {
        current: EventSequenceNumber.GlobalEventSequenceNumber | "uninitialized";
    };
    options: MakeDurableObjectClassOptions | undefined;
    ctx: CfTypes.DurableObjectState;
    ws: CfTypes.WebSocket;
    env: Env;
}) => Effect.Effect<undefined, import("effect/ParseResult").ParseError | UnexpectedError, never>;
//# sourceMappingURL=ws.d.ts.map