import { Stream } from '@livestore/utils/effect';
import { WSMessage } from '../common/mod.ts';
import type { SyncStorage } from './sync-storage.ts';
export declare const makePull: ({ storage, requestId }: {
    storage: SyncStorage;
    requestId: string;
}) => (req: WSMessage.PullReq) => Stream.Stream<{
    readonly requestId: {
        readonly requestId: string;
        readonly context: "push" | "pull";
    };
    readonly _tag: "WSMessage.PullRes";
    readonly batch: readonly {
        readonly eventEncoded: {
            readonly name: string;
            readonly args: any;
            readonly seqNum: any;
            readonly parentSeqNum: any;
            readonly clientId: string;
            readonly sessionId: string;
        };
        readonly metadata: import("effect/Option").Option<{
            readonly createdAt: string;
        }>;
    }[];
    readonly remaining: number;
}, import("@livestore/common").UnexpectedError, never>;
//# sourceMappingURL=impl.d.ts.map