import type { EventSequenceNumber } from '@livestore/common/schema';
import { type CfTypes } from '@livestore/common-cf';
import { Effect } from '@livestore/utils/effect';
import type { Env, MakeDurableObjectClassOptions, RpcSubscription, StoreId } from '../shared.ts';
export interface DoRpcHandlerOptions {
    ctx: CfTypes.DurableObjectState;
    env: Env;
    doOptions: MakeDurableObjectClassOptions | undefined;
    pushSemaphore: Effect.Semaphore;
    rpcSubscriptions: Map<StoreId, RpcSubscription>;
    currentHeadRef: {
        current: EventSequenceNumber.GlobalEventSequenceNumber | 'uninitialized';
    };
    payload: Uint8Array<ArrayBuffer>;
    ensureProps: (storeId: StoreId) => void;
}
export declare const createDoRpcHandler: (options: DoRpcHandlerOptions) => Effect.Effect<CfTypes.ReadableStream<any> | Uint8Array<ArrayBuffer>, never, never>;
//# sourceMappingURL=do-rpc.d.ts.map