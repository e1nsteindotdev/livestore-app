import { EventSequenceNumber } from '@livestore/common/schema';
import { type CfTypes } from '@livestore/common-cf';
import { Effect, Schema } from '@livestore/utils/effect';
import { SyncMessage } from '../../common/mod.ts';
import { type Env, type MakeDurableObjectClassOptions, type RpcSubscription, type StoreId } from '../shared.ts';
import type { SyncStorage } from './sync-storage.ts';
export declare const makePush: ({ storage, options, rpcSubscriptions, currentHeadRef, storeId, payload, ctx, env, }: {
    options: MakeDurableObjectClassOptions | undefined;
    storage: SyncStorage;
    rpcSubscriptions: Map<StoreId, RpcSubscription>;
    currentHeadRef: {
        current: EventSequenceNumber.GlobalEventSequenceNumber | "uninitialized";
    };
    storeId: StoreId;
    payload: Schema.JsonValue | undefined;
    ctx: CfTypes.DurableObjectState;
    env: Env;
}) => (pushRequest: Omit<SyncMessage.PushRequest, "_tag">) => Effect.Effect<{}, SyncMessage.SyncError, never>;
//# sourceMappingURL=push.d.ts.map