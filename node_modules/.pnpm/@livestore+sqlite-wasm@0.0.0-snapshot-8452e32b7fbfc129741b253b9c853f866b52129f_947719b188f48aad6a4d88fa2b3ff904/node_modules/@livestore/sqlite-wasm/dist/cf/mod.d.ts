import { type MakeSqliteDb, type PersistenceInfo, type SqliteDb } from '@livestore/common';
import type { CfTypes } from '@livestore/common-cf';
import type { MemoryVFS } from '@livestore/wa-sqlite/src/examples/MemoryVFS.js';
import { CloudflareSqlVFS } from './CloudflareSqlVFS.ts';
export { BlockManager } from './BlockManager.ts';
export { CloudflareSqlVFS } from './CloudflareSqlVFS.ts';
export { CloudflareWorkerVFS } from './CloudflareWorkerVFS.ts';
export type CloudflareDatabaseMetadataInMemory = {
    _tag: 'in-memory';
    vfs: MemoryVFS;
    dbPointer: number;
    persistenceInfo: PersistenceInfo;
    deleteDb: () => void;
    configureDb: (db: SqliteDb) => void;
};
export type CloudflareDatabaseMetadataFs = {
    _tag: 'storage';
    vfs: CloudflareSqlVFS;
    dbPointer: number;
    persistenceInfo: PersistenceInfo;
    deleteDb: () => void;
    configureDb: (db: SqliteDb) => void;
};
export type CloudflareDatabaseMetadata = CloudflareDatabaseMetadataInMemory | CloudflareDatabaseMetadataFs;
export type CloudflareDatabaseInputInMemory = {
    _tag: 'in-memory';
    configureDb?: (db: SqliteDb) => void;
};
export type CloudflareDatabaseInputFs = {
    _tag: 'storage';
    fileName: string;
    configureDb?: (db: SqliteDb) => void;
    storage: CfTypes.DurableObjectStorage;
};
export type CloudflareDatabaseInput = CloudflareDatabaseInputInMemory | CloudflareDatabaseInputFs;
export type MakeCloudflareSqliteDb = MakeSqliteDb<{
    dbPointer: number;
    persistenceInfo: PersistenceInfo;
}, CloudflareDatabaseInput, CloudflareDatabaseMetadata>;
export declare const sqliteDbFactory: ({ sqlite3 }: {
    sqlite3: SQLiteAPI;
}) => MakeCloudflareSqliteDb;
//# sourceMappingURL=mod.d.ts.map